<html>
    <head>
        <title>javaScript example utils</title>
    </head>
    <body>
        <p>Hello</p>
        <script src="../lib/utils.js"></script>
        <script>

var a = {
  pos: {x: 5, y: 3},
  lt: new Date(1000),
  nums: [1,2,3,4]
};
a.cir = a;

var b = utils.deepClone(a);

// mutating a
a.pos.x = 0;
a.lt = null;
a.nums[0] = null;

// mutating a does not effect b
console.log(a.pos.x, b.pos.x);     // 0 5
console.log(a.nums, b.nums);       // [null, 2, 3, 4] [1, 2, 3, 4]
console.log(a.lt, b.lt.getTime()); // null, 1000

// circular ref now refers to new object
console.log(b.cir === a.cir); // false
console.log(b.cir === b.cir); // true

// Cloning object with ref to window
var c = {
   global: window,
   print: function(){
       console.log(this.global.document.body.innerText);
   }
};
c.print(); // [Body text]
var b = utils.deepClone(c);
b.print(); // [Body text]

        </script>
    </body>
</html>