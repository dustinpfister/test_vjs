<html>
    <head>
        <title>javaScript example utils</title>
    </head>
    <body>
        <div id="canvas-app"></div>
        <script src="../lib/utils.js"></script>
        <script>
// using the utils.createCanvas method to create a canvasObj
// with a canvas, and ctx ref
var canvasObj = utils.createCanvas(),
canvas = canvasObj.canvas,
ctx = canvasObj.ctx,
circle = {
  x: 160,
  y: 120,
  r: 64,
  colorIndex: 1,
  colors: ['yellow', 'green', 'blue']
};
// draw method
var draw = function(){
    // solid black background
    ctx.fillStyle = 'black';
    ctx.fillRect(0,0,canvas.width, canvas.height);
    // the circle
    ctx.fillStyle = circle.colors[circle.colorIndex];
    ctx.beginPath();
    ctx.arc(circle.x, circle.y, circle.r, 0, Math.PI * 2);
    ctx.fill();
};
var events = {
    pointerStart: function(e, pos, state, canvasObj){
       var d = utils.distance(circle.x, circle.y, pos.x, pos.y);
       // if distance is less than or equal to circle radius step color index
       if(d <= circle.r){
           circle.colorIndex -= 1;
           // using utils.mod to wrap color index value
           circle.colorIndex = utils.mod(circle.colorIndex, circle.colors.length);
        }
        draw();
    },
    pointerMove: function(e, pos, state, canvasObj){
        circle.x = pos.x;
        circle.y = pos.y;
        draw();
    }
}
var handler = utils.canvasPointerEventHandler(canvasObj, {}, events);
canvas.addEventListener('mousedown', handler);
canvas.addEventListener('mousemove', handler);
canvas.addEventListener('mouseup', handler);
draw();
        </script>
    </body>
</html>