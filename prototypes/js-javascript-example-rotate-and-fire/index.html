<html>
    <head>
        <title>javaScript example item object</title>
    </head>
    <body>
        <div id="canvas-app"></div>
        <script>

var canvas = document.createElement('canvas'),
ctx = canvas.getContext('2d');

document.getElementById('canvas-app').appendChild(canvas);

canvas.width = 320;
canvas.height = 240;

var draw = {};

draw.back = function(ctx, canvas){
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
};

draw.turret = function(ctx, state){
    var turret = state.turret;
    ctx.save();
    ctx.translate(turret.x, turret.y);
    ctx.fillStyle = 'yellow';
    ctx.fillRect(turret.w * 0.5 * -1, turret.h * 0.5 * -1, turret.w, turret.h);
    ctx.rotate(turret.facing);
    ctx.fillStyle = 'red';
    ctx.fillRect(turret.w * 0.3 * -1, turret.h * 0.3 * -1, turret.w * 0.6, turret.h * 0.6);
    ctx.restore();
};

var state = {
    turret: {
        x: canvas.width / 2,
        y: canvas.height / 2,
        w: 32,
        h: 32,
        facing: 1.25,
        heading: Math.PI * 1.5
    }
};


var loop = function(){
    requestAnimationFrame(loop);
    draw.back(ctx, canvas);
    draw.turret(ctx, state);
};
loop();

        </script>
    </body>
</html>