<html>
    <head>
        <title>canvas line</title>
    </head>
    <body>
        <canvas id="the-canvas" width="320" height="240"></canvas>
        <script>
var Box = function(op) {
  op = op === undefined ? {} : op;
  // current position
  this.x = 50 || op.x;
  this.y = 50 || op.y;
  // with and height
  this.w = 64 || op.w;
  this.h = 64 || op.h;
  // style
  this.fillColor = '#ffffff' || op.fillColor;
  this.strokeColor = '#000000' || op.strokeColor;
 
};
 
// move by heading and distance from present state
Box.prototype.moveHD = function(heading, distance){
    heading = heading === undefined ? 0 : heading;
    distance = distance === undefined ? 0 : distance;
    // move by heading and distance
    this.x += Math.cos(heading) * distance;
    this.y += Math.sin(heading) * distance;
};
 
// draw the box
Box.prototype.draw = function(ctx) {
  ctx.fillStyle = this.fillColor;
  ctx.strokeStyle = this.strokeColor;
  ctx.lineWidth = 3;
  ctx.fillRect(this.x + 0.5, this.y + 0.5, this.w, this.h);
  ctx.strokeRect(this.x + 0.5, this.y + 0.5, this.w, this.h);
};

(function() {
 
    // create and inject a canvas
    var canvas = document.createElement('canvas'),
      ctx = canvas.getContext('2d'),
      // make a new instance of my box class
      bx = new Box(),
      heading = 0,
      setup = function() {
        // append to body
        document.body.appendChild(canvas);
        // set actual matrix size of the canvas
        canvas.width = 320;
        canvas.height = 240;
        loop();
      },
      // clear screen
      cls = function() {
        // default the canvas to a solid back background
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      },
      // the single draw function
      draw = function() {
        ctx.strokeStyle = '#ffffff';
       // draw the current state of the Box class instance to the context
        bx.draw(ctx);
      },
      // the loop
      loop = function() {
        requestAnimationFrame(loop);
        // use my Box.moveHD method
        bx.moveHD(0,1);
        // some basic rules for the box
        if(bx.x >= canvas.width){
           bx.x = bx.x % canvas.width;
        }
        cls();
        draw();
      };
    setup();
  }
  ());

        </script>
    </body>
</html>