<html>
    <head>
        <title>javaScript example utils</title>
    </head>
    <body>
        <div id="canvas-app"></div>
        <script src="../lib/utils.js"></script>
        <script>

var createBox = function(x, y, w, h){
    var box = {
        x: x === undefined ? 0: x,
        y: y === undefined ? 0: y,
        w: w === undefined ? 32: w,
        h: h === undefined ? 32: h,
        color: 'lime'
    };
    return box;
};

var getOverlaping = function(boxArr, a){
    return boxArr.reduce(function(acc, b){
        if(a === b){
            return acc;
        }
        if(utils.boundingBox(a.x, a.y, a.w, a.h, b.x, b.y, b.w, b.h)){
            acc.push(b);
        }
        return acc;
    }, []);
};

// using the utils.createCanvas method
var canvasObj = utils.createCanvas(),
canvas = canvasObj.canvas,
ctx = canvasObj.ctx,
boxArr = [];

boxArr.push(createBox(12, 17));
boxArr.push(createBox(22, 35));
boxArr.push(createBox(147, 85));
boxArr.push(createBox(87, 105));

// set color of overlapping box objects to red
boxArr.forEach(function(a){
    getOverlaping(boxArr, a).forEach(function(b){
        b.color = 'red'
    })
});

// draw method
var draw = function(){
    // solid black background
    ctx.fillStyle = 'black';
    ctx.fillRect(0,0,canvas.width, canvas.height);
    // the circle
    boxArr.forEach(function(box){
        ctx.fillStyle = box.color;
        ctx.beginPath();
        ctx.rect(box.x, box.y, box.w, box.h);
        ctx.fill();
        ctx.stroke();
    });
};
draw();
        </script>
    </body>
</html>