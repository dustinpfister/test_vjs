 <html>
 <head>
 <title> web storage </title>
 </head>
 <body>
 <script src = "xp.js"></script>
     <script src = "game.js"></script>
    total damage:  <input id="input_total_damage" type="text">
     <script>

// save a game object at slot of gameName
var saveState = function (game, saveSlot, gameName) {
    if (!game) {
        return;
    }
    saveSlot = saveSlot === undefined ? 0 : saveSlot;
    gameName = gameName || 'game-crosshairs-save-';
    var str = gameMod.createSaveString(game);
    localStorage.setItem(gameName + saveSlot, str);
};
// load a save string slot of gameName and return a gameObject
var loadState = function (saveSlot, gameName) {
    var str = localStorage.getItem(gameName + saveSlot);
    if (str) {
        var game = gameMod.create();
        gameMod.applySaveString(game, str);
        return game;
    }
    return false;
};

var game = loadState('0', 'game-crosshairs-save-'),
input_total_damage = document.getElementById('input_total_damage');

input_total_damage.addEventListener('keyup', function (e) {
    if (game) {
        game.totalDamage = e.target.value;
        saveState(game, '0', 'game-crosshairs-save-');
    }
});

if (game) {
    input_total_damage.value = game.totalDamage;
}

 </script>
 </body>
</html>
